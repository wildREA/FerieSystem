RewriteEngine On

# Handle all routes through index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Deny access to PHP files in assets directory
<FilesMatch "\.(php)$">
    <IfModule mod_alias.c>
        RedirectMatch 404 ^/assets/.*\.php$
    </IfModule>
</FilesMatch>
